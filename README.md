c_broker 
===================================

TCP/IP を用いてC言語 で作成したメッセージブローカ

c_broker 以下のディレクトリに作成したプログラムをおいている．

# 各ディレクトリとファイルの説明

c_broker ディレクトリ:作成したプログラムとプログラムを実行するシェルスクリプトが存在するディレクトリ

tcp_test.sh:引数にメッセージ送信回数とデータのサイズ(ｋB)，出力するファイルの名前，ウィンドウサイズ，ポート番号をとり，プログラムを実行するシェルスクリプト

make_graph.sh:.csv ファイルをgnuplotを用いて.png の図を作成するシェルスクリプト

recv_client.c:メッセージを受信し，測定した時刻を.log ファイルとしてlogディレクトリ以下に出力する．

send_client.c:メッセージをサーバに送信する．

server.c:メッセージを送受信するサーバ

ssh_test.sh:sshでhsc1に接続し，指定した回数 tcp_test.shを実行するシェルスクリプト

# 実行手順
(1) 以下のコマンドでクローンする．

$ git clone https://github.com/nakagawa1210/c_broker.git

(2) c_broker ディレクトリでmakeを実行する．

$ make

(3) c_broker ディレクトリでtcp_test.sh を実行する．以下のコマンドの場合送信メッセージ数100，データサイズ1KB，windowsize 10で実行し，ファイル名が「test_100_1_<実行した年月日>_<実行した時間>」になる．

$ ./tcp_test.sh 100 1 test 10 10000

